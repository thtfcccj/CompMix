/***********************************************************************

		                    测试子模块
此模块应用无关
***********************************************************************/
#ifndef _TEST_H
#define	_TEST_H

/***********************************************************************
		                      相关配置
***********************************************************************/

#ifndef TEST_COUNT
  #define	TEST_COUNT          8      //定义测试持续时间
#endif

/***********************************************************************
		                      相关结构
***********************************************************************/

struct _Test{
  unsigned char Index;        //测试时间计数
};

extern struct _Test Test;          //直接实例化

/***********************************************************************
		                      相关函数
***********************************************************************/

//-----------------------初始化函数-------------------------------
//void Test_Init(void);
#define Test_Init() do{Test.Index = 0;}while(0)

//----------------------普通任务函数-------------------------------
//放入256ms进程中扫描
void Test_Task(void);

//----------------------置测试状态函数-------------------------------
#define Test_Set() do{Test.Index = TEST_COUNT;}while(0)

//----------------------强制清测试状态函数---------------------------
void Test_Clr(void);

//----------------------判断测试状态函数-------------------------------
#define Test_IsDoing() (Test.Index)

/***********************************************************************
		                     回调函数
***********************************************************************/

//----------------------测试结束通报函数-------------------------------
#ifdef SUPPORT_LED
  #include "Led.h"//Led_IsTest()
  #define Test_ExitNotify() Led_ClrTest()   //清指示灯
#endif


#endif
